# 测试程序

本目录包含有若干简单的验证 MIPS 微系统与板载外设功能的汇编程序。

## 辅助工具 `im_merge.c` 说明

该工具用于将 Mars 导出的十六进制机器码 `code.txt` 和 `code_handler.txt` （分别对应主程序和异常处理程序，起始地址分别对应 `0x3000` 和 `0x4180` ）根据地址对应关系合并成一份文本文件 `im_data.txt` ，每行为无符号十进制表示的一个字的机器码。文本文件的开头对应 BlockROM 的物理地址 `0x0` ，在 CPU 中通过 Bridge 映射到逻辑地址 `0x3000` ，该部分物理地址和逻辑地址均连续并固定对应。

经处理后的十进制机器码 `im_data.txt` 可直接复制粘贴到 Quartus 编辑 `.mif` 文件的界面中，从而将汇编程序的机器码预先载入主存。

## 测试程序说明

### 基础
- `welcome`: 利用板载的四位数码管显示 `2020`
- `keyled`: 按键控制 LED 灯的亮灭

### 中等
- `counter`: 简单计时器，数码管显示秒数
- `beepsong`: 测试蜂鸣器
- `entercode`: 用四个按钮开关进行数字输入，数码管显示

### 进阶
- `test`: 结合了 `beepsong` 和 `entercode` 实现的一个较综合的测试程序。